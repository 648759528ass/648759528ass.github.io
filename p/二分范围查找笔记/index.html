<!doctype html><html lang=en-us dir=ltr>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="二分搜索 简述 二分搜索是一种效率较高的查找方法，用于在有序(二段)数组内查找一个特定数。得益于有序(二段)数组的性质，每一次查找可以筛除一段数量大于一的数段(常见为$\frac{n}{2} $),故能在$ O(\log n) $的时间复杂度内找到对应答案。
二分的本质是二段性而不是单调性
应用 二分通常被用于一个有序数组查找一个数或一个位置，这个数通常是一个最小或最大值/位置(边界位置)。
常见二分通常有两种：
 整数二分 浮点二分  整数二分 整数二分通常查找一个范围的上界或下界
比如说不超过/不低于某个数最大/最小的数的位置与其值。
总的来说，查找的区间可以被分为两个部分，一个部分满足条件，另一部分不满足条件，答案则在两部分的交点。
浮点二分 通常是函数求根、开方等问题，比较简单，while循环终止条件是精度e，更新时l和r都更新为mid即可。
基本代码 整数二分有两种，一种是寻找上界(即寻找不符合性质的最后一个点)，一种是下界(即寻找符合性质的第一个点)
整数二分上界 1 2 3 4 5 6 7 8 9 10  int bsearch(int l, int r) { while (l &amp;lt; r) { int mid = l + r + 1 &amp;gt;&amp;gt; 1; if (check(mid)) l = mid; else r = mid - 1; } return l; }   整数二分下界 1 2 3 4 5 6 7 8 9 10  int bsearch(int l, int r) { while (l &amp;lt; r) { int mid = l + r &amp;gt;&amp;gt; 1; if (check(mid)) r = mid; else l = mid + 1; } return l; }   浮点二分则比较单调，通常是函数求根、开方等问题">
<title>二分范围查找笔记</title>
<link rel=canonical href=https://blog.jhas.cafe/p/%E4%BA%8C%E5%88%86%E8%8C%83%E5%9B%B4%E6%9F%A5%E6%89%BE%E7%AC%94%E8%AE%B0/>
<link rel=stylesheet href=/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="二分范围查找笔记">
<meta property="og:description" content="二分搜索 简述 二分搜索是一种效率较高的查找方法，用于在有序(二段)数组内查找一个特定数。得益于有序(二段)数组的性质，每一次查找可以筛除一段数量大于一的数段(常见为$\frac{n}{2} $),故能在$ O(\log n) $的时间复杂度内找到对应答案。
二分的本质是二段性而不是单调性
应用 二分通常被用于一个有序数组查找一个数或一个位置，这个数通常是一个最小或最大值/位置(边界位置)。
常见二分通常有两种：
 整数二分 浮点二分  整数二分 整数二分通常查找一个范围的上界或下界
比如说不超过/不低于某个数最大/最小的数的位置与其值。
总的来说，查找的区间可以被分为两个部分，一个部分满足条件，另一部分不满足条件，答案则在两部分的交点。
浮点二分 通常是函数求根、开方等问题，比较简单，while循环终止条件是精度e，更新时l和r都更新为mid即可。
基本代码 整数二分有两种，一种是寻找上界(即寻找不符合性质的最后一个点)，一种是下界(即寻找符合性质的第一个点)
整数二分上界 1 2 3 4 5 6 7 8 9 10  int bsearch(int l, int r) { while (l &amp;lt; r) { int mid = l + r + 1 &amp;gt;&amp;gt; 1; if (check(mid)) l = mid; else r = mid - 1; } return l; }   整数二分下界 1 2 3 4 5 6 7 8 9 10  int bsearch(int l, int r) { while (l &amp;lt; r) { int mid = l + r &amp;gt;&amp;gt; 1; if (check(mid)) r = mid; else l = mid + 1; } return l; }   浮点二分则比较单调，通常是函数求根、开方等问题">
<meta property="og:url" content="https://blog.jhas.cafe/p/%E4%BA%8C%E5%88%86%E8%8C%83%E5%9B%B4%E6%9F%A5%E6%89%BE%E7%AC%94%E8%AE%B0/">
<meta property="og:site_name" content="Jhas's Blog">
<meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2022-02-10T12:07:04+08:00"><meta property="article:modified_time" content="2022-02-10T12:07:04+08:00">
<meta name=twitter:title content="二分范围查找笔记">
<meta name=twitter:description content="二分搜索 简述 二分搜索是一种效率较高的查找方法，用于在有序(二段)数组内查找一个特定数。得益于有序(二段)数组的性质，每一次查找可以筛除一段数量大于一的数段(常见为$\frac{n}{2} $),故能在$ O(\log n) $的时间复杂度内找到对应答案。
二分的本质是二段性而不是单调性
应用 二分通常被用于一个有序数组查找一个数或一个位置，这个数通常是一个最小或最大值/位置(边界位置)。
常见二分通常有两种：
 整数二分 浮点二分  整数二分 整数二分通常查找一个范围的上界或下界
比如说不超过/不低于某个数最大/最小的数的位置与其值。
总的来说，查找的区间可以被分为两个部分，一个部分满足条件，另一部分不满足条件，答案则在两部分的交点。
浮点二分 通常是函数求根、开方等问题，比较简单，while循环终止条件是精度e，更新时l和r都更新为mid即可。
基本代码 整数二分有两种，一种是寻找上界(即寻找不符合性质的最后一个点)，一种是下界(即寻找符合性质的第一个点)
整数二分上界 1 2 3 4 5 6 7 8 9 10  int bsearch(int l, int r) { while (l &amp;lt; r) { int mid = l + r + 1 &amp;gt;&amp;gt; 1; if (check(mid)) l = mid; else r = mid - 1; } return l; }   整数二分下界 1 2 3 4 5 6 7 8 9 10  int bsearch(int l, int r) { while (l &amp;lt; r) { int mid = l + r &amp;gt;&amp;gt; 1; if (check(mid)) r = mid; else l = mid + 1; } return l; }   浮点二分则比较单调，通常是函数求根、开方等问题"><link rel="shortcut icon" href=/images/favicon.ico>
</head>
<body class=article-page>
<script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky">
<button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box>
<span class=hamburger-inner></span>
</span>
</button>
<header>
<figure class=site-avatar>
<a href=/>
<img src=/img/avatar_hu3358e2065b511fd9322006e6296d9ed8_296828_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a>
<span class=emoji>💪</span>
</figure>
<div class=site-meta>
<h1 class=site-name><a href=/>Jhas's Blog</a></h1>
<h2 class=site-description>不能再摸鱼了!</h2>
</div>
</header><ol class=social-menu>
<li>
<a href=https://github.com/648759528ass target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
</a>
</li>
</ol><ol class=menu id=main-menu>
<li>
<a href=/ target=_blank><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span>
</a>
</li>
<li>
<a href=/about-me/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About Me</span>
</a>
</li>
<li>
<a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span>
</a>
</li>
<li>
<a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span>
</a>
</li>
<div class=menu-bottom-section>
<li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span>
</li>
</div>
</ol>
</aside>
<aside class="sidebar right-sidebar sticky">
<section class="widget archives">
<div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
</div>
<h2 class="widget-title section-title">目录</h2>
<div class=widget--toc>
<nav id=TableOfContents>
<ol>
<li><a href=#简述>简述</a></li>
<li><a href=#应用>应用</a>
<ol>
<li><a href=#整数二分>整数二分</a></li>
<li><a href=#浮点二分>浮点二分</a></li>
</ol>
</li>
<li><a href=#基本代码>基本代码</a>
<ol>
<li><a href=#整数二分上界>整数二分上界</a></li>
<li><a href=#整数二分下界>整数二分下界</a></li>
<li><a href=#浮点二分-1>浮点二分</a></li>
<li><a href=#stl>STL</a></li>
</ol>
</li>
<li><a href=#经典题目>经典题目</a></li>
<li><a href=#参考文章>参考文章</a></li>
</ol>
</nav>
</div>
</section>
</aside>
<main class="main full-width">
<article class=main-article>
<header class=article-header>
<div class=article-details>
<header class=article-category>
<a href=/categories/algorithm/ style=background-color:#2a9d8f;color:#fff>
Algorithm
</a>
</header>
<div class=article-title-wrapper>
<h2 class=article-title>
<a href=/p/%E4%BA%8C%E5%88%86%E8%8C%83%E5%9B%B4%E6%9F%A5%E6%89%BE%E7%AC%94%E8%AE%B0/>二分范围查找笔记</a>
</h2>
</div>
<footer class=article-time>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Feb 10, 2022</time>
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>
阅读时长: 3 分钟
</time>
</div>
</footer>
</div>
</header>
<section class=article-content>
<h1 id=二分搜索>二分搜索</h1>
<h2 id=简述>简述</h2>
<p>二分搜索是一种效率较高的查找方法，用于在有序(二段)数组内查找一个特定数。得益于有序(二段)数组的性质，每一次查找可以筛除一段<strong>数量大于一</strong>的数段(常见为$\frac{n}{2} $),故能在$ O(\log n) $的时间复杂度内找到对应答案。</p>
<p>二分的本质是二段性而不是单调性</p>
<p><img src=https://image-1255315175.cos.ap-shanghai.myqcloud.com/1580979705_20200206160241434_9286.png loading=lazy alt=二分的本质是二段性></p>
<h2 id=应用>应用</h2>
<p>二分通常被用于一个有序数组查找一个数或一个位置，这个数通常是一个<strong>最小或最大值/位置(边界位置)</strong>。</p>
<p>常见二分通常有两种：</p>
<ul>
<li>整数二分</li>
<li>浮点二分</li>
</ul>
<h3 id=整数二分>整数二分</h3>
<p>整数二分通常查找一个范围的上界或下界</p>
<p>比如说不超过/不低于某个数最大/最小的数的位置与其值。</p>
<p>总的来说，查找的区间可以被分为两个部分，一个部分满足条件，另一部分不满足条件，答案则在两部分的交点。</p>
<h3 id=浮点二分>浮点二分</h3>
<p>通常是函数求根、开方等问题，比较简单，while循环终止条件是精度e，更新时l和r都更新为mid即可。</p>
<h2 id=基本代码>基本代码</h2>
<p>整数二分有两种，一种是寻找上界(即寻找不符合性质的最后一个点)，一种是下界(即寻找符合性质的第一个点)</p>
<h3 id=整数二分上界>整数二分上界</h3>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bsearch</span>(<span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r)
{
    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r)
    {
        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
        <span style=color:#66d9ef>if</span> (check(mid)) l <span style=color:#f92672>=</span> mid;
        <span style=color:#66d9ef>else</span> r <span style=color:#f92672>=</span> mid <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
    }
    <span style=color:#66d9ef>return</span> l;
}
</code></pre></td></tr></table>
</div>
</div><h3 id=整数二分下界>整数二分下界</h3>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bsearch</span>(<span style=color:#66d9ef>int</span> l, <span style=color:#66d9ef>int</span> r)
{
    <span style=color:#66d9ef>while</span> (l <span style=color:#f92672>&lt;</span> r)
    {
        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> r <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
        <span style=color:#66d9ef>if</span> (check(mid)) r <span style=color:#f92672>=</span> mid;
        <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
    }
    <span style=color:#66d9ef>return</span> l;
}
</code></pre></td></tr></table>
</div>
</div><p>浮点二分则比较单调，通常是函数求根、开方等问题</p>
<h3 id=浮点二分-1>浮点二分</h3>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
{
    <span style=color:#66d9ef>double</span> n;
    cin <span style=color:#f92672>&gt;&gt;</span> n;
    <span style=color:#66d9ef>double</span> l <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>10000</span>, r <span style=color:#f92672>=</span> <span style=color:#ae81ff>10000</span>, mid;
    <span style=color:#66d9ef>while</span>(r <span style=color:#f92672>-</span> l <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1e-7</span>){
        mid <span style=color:#f92672>=</span> (l <span style=color:#f92672>+</span> r) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
        <span style=color:#66d9ef>if</span>(check(mid)) r <span style=color:#f92672>=</span> mid;
        <span style=color:#66d9ef>else</span> l <span style=color:#f92672>=</span> mid ;
    }
    printf(<span style=color:#e6db74>&#34;%.6f&#34;</span>, l);
}
</code></pre></td></tr></table>
</div>
</div><h3 id=stl>STL</h3>
<p>STL里提供了lower_bound()和upper_bound()两个函数用于一个排好序的数组二分查找</p>
<p>lower_bound:返回数组中第一个大于或等于被查数的迭代器</p>
<p>upper_bound:返回数组中第一个大于被查数的迭代器</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">9
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
	<span style=color:#66d9ef>int</span> num[<span style=color:#ae81ff>6</span>]<span style=color:#f92672>=</span>{<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>15</span>,<span style=color:#ae81ff>34</span>};
	sort(num.begin(),num.end());
	<span style=color:#66d9ef>int</span> lower_idx <span style=color:#f92672>=</span> lower_bound(num.begin(),num.end(),<span style=color:#ae81ff>4</span>) <span style=color:#f92672>-</span> num.begin(); <span style=color:#75715e>// 值为2，lower_bound返回了位置为2的迭代器
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> upper_idx <span style=color:#f92672>=</span> upper_bound(num.begin(),num.end(),<span style=color:#ae81ff>4</span>) <span style=color:#f92672>-</span> num.begin(); <span style=color:#75715e>// 值为3, upper_bound返回了位置为3的迭代器
</span><span style=color:#75715e></span>    sort(num.begin(),num.end(),greater<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>()); <span style=color:#75715e>//从大到小排序,此时为 [34,15,7,4,2,1]
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> greater_lower_idx <span style=color:#f92672>=</span> lower_bound(num.begin(),num.end(),<span style=color:#ae81ff>4</span>,greater<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>()) <span style=color:#f92672>-</span> num.begin();<span style=color:#75715e>// 值为3,lower_bound返回了位置为3的迭代器,即查找到第一个小于或等于4的数
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> greater_upper_idx <span style=color:#f92672>=</span> lower_bound(num.begin(),num.end(),<span style=color:#ae81ff>4</span>,greater<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>()) <span style=color:#f92672>-</span> num.begin();<span style=color:#75715e>// 值为4,lower_bound返回了位置为4的迭代器,即查找到第一个小于4的数
</span><span style=color:#75715e></span>}
</code></pre></td></tr></table>
</div>
</div><p>这里不得不提到 greater() 和 less() 了</p>
<p>其实其内部结构为</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#66d9ef>template</span><span style=color:#f92672>&lt;</span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>_Ty</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>void</span><span style=color:#f92672>&gt;</span>
    <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>less</span>
    {    <span style=color:#75715e>// functor for operator&lt;
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>typedef</span> _Ty first_argument_type;
    <span style=color:#66d9ef>typedef</span> _Ty second_argument_type;
    <span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>bool</span> result_type;

    <span style=color:#66d9ef>constexpr</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>operator</span>()(<span style=color:#66d9ef>const</span> _Ty<span style=color:#f92672>&amp;</span> _Left, <span style=color:#66d9ef>const</span> _Ty<span style=color:#f92672>&amp;</span> _Right) <span style=color:#66d9ef>const</span>
        {    <span style=color:#75715e>// apply operator&lt; to operands
</span><span style=color:#75715e></span>        <span style=color:#66d9ef>return</span> (_Left <span style=color:#f92672>&lt;</span> _Right);
        }
    };
   <span style=color:#66d9ef>template</span><span style=color:#f92672>&lt;</span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>_Ty</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>void</span><span style=color:#f92672>&gt;</span>
    <span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>greater</span>
    {    <span style=color:#75715e>// functor for operator&gt;
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>typedef</span> _Ty first_argument_type;
    <span style=color:#66d9ef>typedef</span> _Ty second_argument_type;
    <span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>bool</span> result_type;

    <span style=color:#66d9ef>constexpr</span> <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>operator</span>()(<span style=color:#66d9ef>const</span> _Ty<span style=color:#f92672>&amp;</span> _Left, <span style=color:#66d9ef>const</span> _Ty<span style=color:#f92672>&amp;</span> _Right) <span style=color:#66d9ef>const</span>
        {    <span style=color:#75715e>// apply operator&gt; to operands
</span><span style=color:#75715e></span>        <span style=color:#66d9ef>return</span> (_Left <span style=color:#f92672>&gt;</span> _Right);
        }
    };
</code></pre></td></tr></table>
</div>
</div><p>这是一个仿函数, 以greater()为例, greater()其实获得了一个匿名对象，而这个对象等效于</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>cmp</span>(<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>&amp;</span> _Left, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>&amp;</span> _Right) <span style=color:#66d9ef>const</span> {
		<span style=color:#66d9ef>return</span> _Left <span style=color:#f92672>&gt;</span> _Right
}
</code></pre></td></tr></table>
</div>
</div><p>或者</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp>[](<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>&amp;</span> _Left, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>&amp;</span> _Right) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>bool</span> {
	<span style=color:#66d9ef>return</span> _Left <span style=color:#f92672>&gt;</span> _Right
}
</code></pre></td></tr></table>
</div>
</div><p>即一个比较函数</p>
<p>回到二分查找的STL，下面是它们的源码</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp>
_ForwardIterator
    <span style=color:#a6e22e>__lower_bound</span>(_ForwardIterator __first, _ForwardIterator __last,
		  <span style=color:#66d9ef>const</span> _Tp<span style=color:#f92672>&amp;</span> __val, _Compare __comp)
    {
      <span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>typename</span> iterator_traits<span style=color:#f92672>&lt;</span>_ForwardIterator<span style=color:#f92672>&gt;::</span>difference_type
	_DistanceType;

      _DistanceType __len <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>distance(__first, __last);

      <span style=color:#66d9ef>while</span> (__len <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>)
	{
	  _DistanceType __half <span style=color:#f92672>=</span> __len <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
	  _ForwardIterator __middle <span style=color:#f92672>=</span> __first;
	  std<span style=color:#f92672>::</span>advance(__middle, __half);
	  <span style=color:#66d9ef>if</span> (__comp(__middle, __val))
	    {
	      __first <span style=color:#f92672>=</span> __middle;
	      <span style=color:#f92672>++</span>__first;
	      __len <span style=color:#f92672>=</span> __len <span style=color:#f92672>-</span> __half <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
	    }
	  <span style=color:#66d9ef>else</span>
	    __len <span style=color:#f92672>=</span> __half;
	}
      <span style=color:#66d9ef>return</span> __first;
    }

_ForwardIterator
    <span style=color:#a6e22e>__upper_bound</span>(_ForwardIterator __first, _ForwardIterator __last,
		  <span style=color:#66d9ef>const</span> _Tp<span style=color:#f92672>&amp;</span> __val, _Compare __comp)
    {
      <span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>typename</span> iterator_traits<span style=color:#f92672>&lt;</span>_ForwardIterator<span style=color:#f92672>&gt;::</span>difference_type
	_DistanceType;

      _DistanceType __len <span style=color:#f92672>=</span> std<span style=color:#f92672>::</span>distance(__first, __last);

      <span style=color:#66d9ef>while</span> (__len <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>)
	{
	  _DistanceType __half <span style=color:#f92672>=</span> __len <span style=color:#f92672>&gt;&gt;</span> <span style=color:#ae81ff>1</span>;
	  _ForwardIterator __middle <span style=color:#f92672>=</span> __first;
	  std<span style=color:#f92672>::</span>advance(__middle, __half);
	  <span style=color:#66d9ef>if</span> (__comp(__val, __middle))
	    __len <span style=color:#f92672>=</span> __half;
	  <span style=color:#66d9ef>else</span>
	    {
	      __first <span style=color:#f92672>=</span> __middle;
	      <span style=color:#f92672>++</span>__first;
	      __len <span style=color:#f92672>=</span> __len <span style=color:#f92672>-</span> __half <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
	    }
	}
      <span style=color:#66d9ef>return</span> __first;
    }

</code></pre></td></tr></table>
</div>
</div><p>主要的差别在于__comp()的用法，而__comp()又是我们的仿函数以less()为例，则差别在于lower_bound比较 $ mid &lt; val$ 而upper_bound比较 $val &lt; mid$</p>
<p>对于 lower_bound来说，如果__comp()为true则将first设置为mid，否则将长度减少一半(STL里二分使用长度来表示)。</p>
<p>对于 upper_bound来说，如果__comp()为true则将长度减少一半，否则将将first设置为mid，</p>
<p>区别在于两个true表示的范围不一样，</p>
<p>更直观的表示是，如果将upper_bound改写成以下形式</p>
<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4>
<table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td>
<td style=vertical-align:top;padding:0;margin:0;border:0;width:100%>
<pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>__comp(__val, __middle)){
    __first <span style=color:#f92672>=</span> __middle;
	<span style=color:#f92672>++</span>__first;
	 __len <span style=color:#f92672>=</span> __len <span style=color:#f92672>-</span> __half <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
}
<span style=color:#66d9ef>else</span>{
	__len <span style=color:#f92672>=</span> __half;
}
</code></pre></td></tr></table>
</div>
</div><p>其实是将if else切换一下</p>
<p>这个时候$mid &lt;= val$ 正巧比lower_bound多了个等号，即右范围涵盖了mid，这就是upper_bound与lower_bound的差别，</p>
<p>总的来说，STL里的upper_bound与lower_bound其实实现的是整数二分下界，区别在于__comp的应用和二段的划分</p>
<h2 id=经典题目>经典题目</h2>
<p><a class=link href=https://leetcode-cn.com/problems/binary-search/ target=_blank rel=noopener>Leetcode704. 二分查找</a></p>
<p>标准二分查找</p>
<p><a class=link href=https://www.acwing.com/problem/content/791/ target=_blank rel=noopener>acwing789. 数的范围</a></p>
<p>二分边界查找(上界\下界)</p>
<p><a class=link href=https://www.acwing.com/problem/content/792/ target=_blank rel=noopener>acwing790. 数的三次方根</a></p>
<p>二分浮点</p>
<p><a class=link href=https://leetcode-cn.com/problems/minimum-difference-between-highest-and-lowest-of-k-scores/ target=_blank rel=noopener>Leetcode1984. 学生分数的最小差值</a></p>
<p>这个不是很经典，但是可以用二分答案做</p>
<h2 id=参考文章>参考文章</h2>
<p><a class=link href=https://www.acwing.com/solution/content/3338/ target=_blank rel=noopener>AcWing 789. 数的范围（详细分析二分过程）</a></p>
<p><a class=link href=https://www.acwing.com/blog/content/31/ target=_blank rel=noopener>二分查找算法模板</a></p>
<p><a class=link href=https://www.acwing.com/solution/content/8235/ target=_blank rel=noopener>AcWing 789. 二分模板笔记</a></p>
<p><a class=link href=https://www.cnblogs.com/lzhu/p/7010894.html target=_blank rel=noopener>C++：greater和less</a></p>
<p><a class=link href=https://blog.csdn.net/qq_40160605/article/details/80150252 target=_blank rel=noopener>关于lower_bound( )和upper_bound( )的常见用法</a></p>
</section>
<footer class=article-footer>
<section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span>
</section>
</footer>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css integrity="sha256-J+iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s=" crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js integrity="sha256-InsNdER1b2xUewP+pKCUJpkhiqwHgqiPXDlIk7GzBu4=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI=" crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script>
</article>
<div id=gitalk-container></div>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css>
<script src=https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/blueimp-md5@2.18.0/js/md5.min.js></script>
<script>const gitalk=new Gitalk({clientID:"264509ab7182be2bb46b",clientSecret:"fdc0ed63f45a590e0a7e66d3dfa4ad01612c3b23",repo:"648759528ass.github.io",owner:"Edwin-H-J",admin:["Edwin-H-J"],distractionFreeMode:!1,id:md5(location.pathname)});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("gitalk-container").innerHTML="Gitalk comments not available by default when the website is previewed locally.";return}gitalk.render("gitalk-container")})()</script>
<footer class=site-footer>
<section class=copyright>
&copy;
2022 -
2023 Jhas's Blog
</section>
<section class=powerby>
Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> <br>
主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计
</section>
</footer>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous>
</main>
</div>
<script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script>
</body>
</html>